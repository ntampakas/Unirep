<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">One post tagged with &quot;voting&quot; | UniRep Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.unirep.io/blog/tags/voting"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="One post tagged with &quot;voting&quot; | UniRep Docs"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/unirep-icon.png"><link data-rh="true" rel="canonical" href="https://developer.unirep.io/blog/tags/voting"><link data-rh="true" rel="alternate" href="https://developer.unirep.io/blog/tags/voting" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.unirep.io/blog/tags/voting" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HEISL6JPF1-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="UniRep Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="UniRep Docs Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="UniRep Docs" href="/opensearch.xml">

<link rel="preconnect" href="https://psedev.matomo.cloud/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://psedev.matomo.cloud/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","6"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.43ab1b18.css">
<link rel="preload" href="/assets/js/runtime~main.f5e1ab73.js" as="script">
<link rel="preload" href="/assets/js/main.8e0d94e2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/unirep-icon.png" alt="UniRep logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/img/unirep-icon.png" alt="UniRep logo" class="themedImage_RWGG themedImage--dark_Dsi0"></div><b class="navbar__title text--truncate">UniRep</b></a><a class="navbar__item navbar__link" href="/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/docs/faqs">FAQs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/welcome">2.1.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/welcome">next</a></li><li><a class="dropdown__link" href="/docs/welcome">2.1.x</a></li><li><a class="dropdown__link" href="/docs/2.0.0-beta-4/welcome">2.0.0-beta-4</a></li><li><a class="dropdown__link" href="/docs/1.0.1/welcome">1.0.1</a></li></ul></div><a href="https://github.com/unirep/unirep" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_xrOJ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_RYHo thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_sRjx margin-bottom--md">Recent posts</div><ul class="sidebarItemList_uMtB clean-list"><li class="sidebarItem_rygH"><a class="sidebarItemLink_EKgd" href="/blog/voteathon">voteathon, Built for hackers by the hackers.</a></li><li class="sidebarItem_rygH"><a class="sidebarItemLink_EKgd" href="/blog/unirep-travels-to-turkey-2023">UniRep Travels to Turkey, 2023</a></li><li class="sidebarItem_rygH"><a class="sidebarItemLink_EKgd" href="/blog/Good-bye-unirep-social">Good Bye, UniRep.Social</a></li><li class="sidebarItem_rygH"><a class="sidebarItemLink_EKgd" href="/blog/year-in-review-2022">Year in review, 2022</a></li><li class="sidebarItem_rygH"><a class="sidebarItemLink_EKgd" href="/blog/welcome">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>One post tagged with &quot;voting&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This summer, our UniRep group took part in the well-known IC3 conference. It&#x27;s a great event for those interested in the subject of cryptography. You can learn more about IC3 from their website."><header><h2 class="title_cIQJ" itemprop="headline"><a itemprop="url" href="/blog/voteathon">voteathon, Built for hackers by the hackers.</a></h2><div class="container_PuMg margin-vert--md"><time datetime="2023-07-04T00:00:00.000Z" itemprop="datePublished">July 4, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_q_iI"><div class="avatar margin-bottom--sm"><a href="https://github.com/vivianjeng" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/17507085?v=4" alt="Vivi" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/vivianjeng" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Vivi</span></a></div><small class="avatar__subtitle" itemprop="description">UniRep contributor</small></div></div></div><div class="col col--6 authorCol_q_iI"><div class="avatar margin-bottom--sm"><a href="https://github.com/ChialiT" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16527634?v=4" alt="Chiali" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ChialiT" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chiali</span></a></div><small class="avatar__subtitle" itemprop="description">UniRep contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/assets/images/voteathon-84fa62a964f459e0f2890b8b9b6a6d0f.png" width="1440" height="443" class="img__Ss2"></p><h1>Overview</h1><p>This summer, our UniRep group took part in the well-known IC3 conference. It&#x27;s a great event for those interested in the subject of cryptography. You can learn more about IC3 from their <a href="https://www.initc3.org/index.html" target="_blank" rel="noopener noreferrer">website</a>.
We were lucky enough to show off the UniRep protocol during the event. Working with some PSE colleagues and two contributors from outside the group, we took part in a week-long project challenge.</p><h1>Motivation</h1><p>Our group of seven brainstormed ideas for the project. We thought about creating an app similar to Stack Overflow where users could earn reputation points by asking and answering questions. However, we knew from past experience that this could be a complicated task. Then, while chatting about the hackathon itself, we had a new idea.</p><p>We thought about creating a voting app for hackathons. It could be driven by the community, and hackers could earn reputation points through it.
Usually, a panel of judges decides which projects are the best. But what if we made the voting anonymous and fair, and let the hackers themselves vote for the projects they like the most? This way, hackers could start building their reputation from one hackathon to the next.</p><p>We&#x27;ve come up with just such an app, which we&#x27;re calling voteathon.</p><iframe src="https://giphy.com/embed/W1Sx4lnn3tu7wEMabW" width="480" height="270" frameborder="0" class="giphy-embed" allowfullscreen="" style="display:block;margin:16px auto"></iframe><p><a href="https://giphy.com/gifs/onmyblocktv-on-my-block-kendra-onmyblock-W1Sx4lnn3tu7wEMabW" target="_blank" rel="noopener noreferrer">via GIPHY</a></p><h1>Idea to action</h1><p>This application can better illustrate the ownership of data of UniRep protocol. We want to showcase the good use cases to demonstrate the proof of reputation. In this project, hackers can choose to prove how many votes they have to claim the award. The idea of the application is that the user can use the first epoch key to join a project and receive votes. Then the second epoch key is used to prove membership in the hackathon and also is regarded as a nullifier to record the user has voted. After the judge finishes, the user can start claiming their votes. The smart contract will calculate the third highest scores of a project, then set the <code>winnerScore</code> to that number. If a user can generate a proof that the score is higher than <code>winnerScore</code>, the user can mint an NFT (or any other award the hackathon provides) to a specified address. Of course, the user will emit a nullifier as well to notice that the user has already claimed the prize.</p><h1>Let’s get started</h1><p>To efficiently build a UniRep app, we use <code>npx create-unirep-app</code> to create all packages we need:  circuits, contracts, relay and frontend. Then we modify the smart contracts to have the functions that are required in Voteathon: <code>joinProject</code>, <code>vote</code>, <code>claimPrize</code>. Then the router and frontend should also change how a ZK proof is generated and how the smart contract would be called. </p><p>See: <a href="https://developer.unirep.io/docs/getting-started/create-unirep-app" target="_blank" rel="noopener noreferrer">Getting Started with <code>create-unirep-app</code></a> to learn more about how to use unirep related packages.</p><h1>Customization</h1><p>To achieve the idea that we use the first and second epoch key in Voteathon, we need to customize the smart contract and the client.</p><p>In <code>joinProject</code> function in the smart contract, it uses <code>decodeEpochKeySignals</code> to decode the information in the public signals.</p><div class="language-solidity codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-solidity codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">Unirep</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EpochKeySignals </span><span class="token keyword" style="color:#00009f">memory</span><span class="token plain"> signals </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> unirep</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">decodeEpochKeySignals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publicSignals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: in version v2.0.0-alpha-3, Unirep provides this decoder, but in the later version, developers have to deploy a helper first. See: <a href="https://developer.unirep.io/docs/next/contracts-api/verifiers/epoch-key-verifier-helper" target="_blank" rel="noopener noreferrer">epoch-key-verifier-helper</a></p></blockquote><p>Then we can check if the user reveals nonce and which nonce it is.
For example</p><div class="language-solidity codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-solidity codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">revealNonce </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Voteathon: should reveal nonce&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nonce </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Voteathon: invalid nonce&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the user chooses not to reveal nonce, it will all be zero.</p><p>And in <code>vote</code> function, it checks that</p><div class="language-solidity codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-solidity codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">revealNonce </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Voteathon: should reveal nonce&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nonce </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Voteathon: invalid nonce&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to make sure the user uses two different epoch keys in different actions.</p><p>Then in the client, the users are required to generate an epoch key proof with revealing nonces.</p><div class="language-ts codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-ts codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> epochKeyProof </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">userState</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">genEpochKeyProof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nonce</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        revealNonce</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The options can be set to make sure the user generates the proofs with public nonces. By default the <code>revealNonce</code> is set to <code>false</code>.</p><h1>Improvement</h1><p>Then we found out the circuits should be changed as well because we need a nullifier to limit how users claim prizes. Therefore, our external contributor, Joy, helps us build the nullifier circuits and the circuits for users cannot vote themselves projects. Which was a big effort because we need to compile circuits with <code>yarn circuits buildsnark</code> and generate a new verifier (with <code>yarn contracts build</code>). Then it should be imported in the smart contract, and we need to customize how users generate circuit inputs. And it is also hard to use circom to identify which public signal means which variable. We realized that building an additional circuit is not so friendly to <code>create-unirep-app</code> developers. It is neither documented nor automatically built. It was such a good lesson for us to improve the DX in the future.</p><p>Then there are many improvements we can make for Voteathon in the future. For example, the <code>signup</code> and <code>joinProject</code> could be merged to reduce the signup time. The idea is that we use <a href="https://developer.unirep.io/docs/contracts-api/unirep-sol#manualusersignup" target="_blank" rel="noopener noreferrer"><code>manualSignup</code></a> in Unirep.sol, and generate a proof that includes <a href="https://developer.unirep.io/docs/circuits-api/circuits#signup-proof" target="_blank" rel="noopener noreferrer">signup proof</a> and <a href="https://developer.unirep.io/docs/circuits-api/circuits#epoch-key-proof" target="_blank" rel="noopener noreferrer">epoch key proof</a>. So it can not only sign up the user but also prove his epoch key. The second improvement that can be made is the durability. How could Voteathon smart contract be an infrastructure for every hackathon event and how the contract can be reused. It could be a challenging issue.</p><iframe src="https://giphy.com/embed/zTQQPJXn1j8Jy" width="480" height="364" frameborder="0" class="giphy-embed" allowfullscreen="" style="display:block;margin:16px auto"></iframe><p><a href="https://giphy.com/gifs/90s-80s-grunge-zTQQPJXn1j8Jy" target="_blank" rel="noopener noreferrer">via GIPHY</a></p><h1>Future plan</h1><p>This was a fun exercise for us all. There is a few things we need to continue iterating before a production release. We definitely would love this to be used in various hackathons. <br>
Try app here: <a href="https://voteathon.org/" target="_blank" rel="noopener noreferrer">https://voteathon.org/</a> <br>
See all projects: <a href="https://voteathon.org/projects" target="_blank" rel="noopener noreferrer">https://voteathon.org/projects</a> <br></p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="special-thanks-to">Special thanks to:<a href="#special-thanks-to" class="hash-link" aria-label="Direct link to Special thanks to:" title="Direct link to Special thanks to:">​</a></h2><ul><li>Nico Serrano  <a href="https://github.com/NicoSerranoP" target="_blank" rel="noopener noreferrer">https://github.com/NicoSerranoP</a></li><li>Jake C-T <a href="https://github.com/jacque006" target="_blank" rel="noopener noreferrer">https://github.com/jacque006</a></li><li>Ya-wen, Jeng <a href="https://github.com/vivianjeng" target="_blank" rel="noopener noreferrer">https://github.com/vivianjeng</a></li><li>AtHeartEngineer <a href="https://github.com/AtHeartEngineer" target="_blank" rel="noopener noreferrer">https://github.com/AtHeartEngineer</a></li><li>Joy Wang  <a href="https://github.com/joyqvq" target="_blank" rel="noopener noreferrer">https://github.com/joyqvq</a> </li><li>Simon Brown <a href="https://github.com/orbmis" target="_blank" rel="noopener noreferrer">https://github.com/orbmis</a></li></ul><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="resource">Resource:<a href="#resource" class="hash-link" aria-label="Direct link to Resource:" title="Direct link to Resource:">​</a></h2><ul><li>Github Repo: <a href="https://github.com/NicoSerranoP/voteathon" target="_blank" rel="noopener noreferrer">https://github.com/NicoSerranoP/voteathon</a></li><li>Design: <a href="https://www.figma.com/file/glCnyZFoJKKfFvINALn2Z3/IC3-hackathon?type=design&amp;node-id=0%3A1&amp;mode=design&amp;t=GeqvikyMM6r8DYSM-1" target="_blank" rel="noopener noreferrer">https://www.figma.com/file/glCnyZFoJKKfFvINALn2Z3/IC3-hackathon?type=design&amp;node-id=0%3A1&amp;mode=design&amp;t=GeqvikyMM6r8DYSM-1</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_q74f padding--none margin-left--sm"><li class="tag_lSC7"><a class="tag_qE9H tagRegular_aHXt" href="/blog/tags/hackathon">hackathon</a></li><li class="tag_lSC7"><a class="tag_qE9H tagRegular_aHXt" href="/blog/tags/voting">voting</a></li><li class="tag_lSC7"><a class="tag_qE9H tagRegular_aHXt" href="/blog/tags/attester">attester</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/welcome">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/VzMMDJmYc5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/UniRep_protocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://airtable.com/shroZ9JGQLMznKU18" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feedback<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://explorer.unirep.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Explorer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/unirep" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">MIT licensed ✨</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f5e1ab73.js"></script>
<script src="/assets/js/main.8e0d94e2.js"></script>
</body>
</html>