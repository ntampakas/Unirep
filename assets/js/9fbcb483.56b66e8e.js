"use strict";(self.webpackChunk_unirep_docs=self.webpackChunk_unirep_docs||[]).push([[7152],{30876:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>N});var a=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),o=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=o(e.components);return a.createElement(d.Provider,{value:t},e.children)},k="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),k=o(n),c=r,N=k["".concat(d,".").concat(c)]||k[c]||s[c]||i;return n?a.createElement(N,l(l({ref:t},m),{},{components:n})):a.createElement(N,l({ref:t},m))}));function N(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var p={};for(var d in t)hasOwnProperty.call(t,d)&&(p[d]=t[d]);p.originalType=e,p[k]="string"==typeof e?e:r,l[1]=p;for(var o=2;o<i;o++)l[o]=n[o];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},91751:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>s,frontMatter:()=>i,metadata:()=>p,toc:()=>o});var a=n(7896),r=(n(2784),n(30876));const i={id:"deploy",title:"Module: deploy",sidebar_label:"deploy",sidebar_position:0,custom_edit_url:null},l=void 0,p={unversionedId:"contracts-api/modules/deploy",id:"version-2.1.x/contracts-api/modules/deploy",title:"Module: deploy",description:"Functions",source:"@site/versioned_docs/version-2.1.x/contracts-api/modules/deploy.md",sourceDirName:"contracts-api/modules",slug:"/contracts-api/modules/deploy",permalink:"/docs/contracts-api/modules/deploy",draft:!1,editUrl:null,tags:[],version:"2.1.x",sidebarPosition:0,frontMatter:{id:"deploy",title:"Module: deploy",sidebar_label:"deploy",sidebar_position:0,custom_edit_url:null},sidebar:"apiSidebar",previous:{title:"Table of Contents",permalink:"/docs/contracts-api/modules"},next:{title:"src",permalink:"/docs/contracts-api/modules/src"}},d={},o=[{value:"Functions",id:"functions",level:2},{value:"compileVerifier",id:"compileverifier",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"createVerifierName",id:"createverifiername",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-1",level:4},{value:"deployUnirep",id:"deployunirep",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"deployVerifier",id:"deployverifier",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"deployVerifierHelper",id:"deployverifierhelper",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"deployVerifierHelpers",id:"deployverifierhelpers",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"deployVerifiers",id:"deployverifiers",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"genVerifier",id:"genverifier",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"linkLibrary",id:"linklibrary",level:3},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"retryAsNeeded",id:"retryasneeded",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-9",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"tryPath",id:"trypath",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Defined in",id:"defined-in-10",level:4}],m={toc:o},k="wrapper";function s(e){let{components:t,...n}=e;return(0,r.kt)(k,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"functions"},"Functions"),(0,r.kt)("h3",{id:"compileverifier"},"compileVerifier"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"compileVerifier"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"contractName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"vkey"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"abi"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"bytecode"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"  }",">"),(0,r.kt)("p",null,"Compile the verifier smart contract with ",(0,r.kt)("inlineCode",{parentName:"p"},"solc")),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"contractName")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The name of output verifier contract")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"vkey")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The verification key of the verifier")))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"abi"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"bytecode"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"  }",">"),(0,r.kt)("p",null,"Output the compiled ",(0,r.kt)("inlineCode",{parentName:"p"},"abi")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"bytecode")),(0,r.kt)("h4",{id:"defined-in"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/utils.ts#L130"},"packages/contracts/deploy/utils.ts:130")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"createverifiername"},"createVerifierName"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"createVerifierName"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"circuitName"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"Create name of the verifier contracts. Capitalize the first character and add ",(0,r.kt)("inlineCode",{parentName:"p"},"Verifier")," at the end."),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"circuitName")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the circuit, which can be chosen from ",(0,r.kt)("inlineCode",{parentName:"td"},"Circuit"))))),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/utils.ts#L54"},"packages/contracts/deploy/utils.ts:54")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"deployunirep"},"deployUnirep"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"deployUnirep"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"deployer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"settings?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"prover?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"/docs/contracts-api/interfaces/src.Unirep"},(0,r.kt)("inlineCode",{parentName:"a"},"Unirep")),">"),(0,r.kt)("p",null,"Deploy the unirep contract and verifier contracts with given ",(0,r.kt)("inlineCode",{parentName:"p"},"deployer")," and settings"),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deployer")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Signer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A signer who will deploy the contracts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"settings?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"CircuitConfig")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The settings that the deployer can define. See ",(0,r.kt)("a",{parentName:"td",href:"https://developer.unirep.io/docs/circuits-api/circuit-config"},(0,r.kt)("inlineCode",{parentName:"a"},"CircuitConfig")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"prover?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Prover")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prover which provides ",(0,r.kt)("inlineCode",{parentName:"td"},"vkey")," of the circuit")))),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"/docs/contracts-api/interfaces/src.Unirep"},(0,r.kt)("inlineCode",{parentName:"a"},"Unirep")),">"),(0,r.kt)("p",null,"The Unirep smart contract"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { ethers } from 'ethers'\nimport { Unirep } from '@unirep/contracts'\nimport { deployUnirep } from '@unirep/contracts/deploy'\nconst privateKey = 'YOUR/PRIVATE/KEY'\nconst provider = 'YOUR/ETH/PROVIDER'\nconst deployer = new ethers.Wallet(privateKey, provider);\nconst unirepContract: Unirep = await deployUnirep(deployer)\n")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The default circuit configuration is set in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/1a3c9c944925ec125a7d7d8bfa9990466389477b/packages/circuits/src/CircuitConfig.ts"},(0,r.kt)("inlineCode",{parentName:"a"},"CircuitConfig.ts")),".",(0,r.kt)("br",null),"\nPlease make sure the ",(0,r.kt)("inlineCode",{parentName:"p"},"CircuitConfig")," matches your ",(0,r.kt)("a",{parentName:"p",href:"/docs/circuits-api/interfaces/src.Prover"},(0,r.kt)("inlineCode",{parentName:"a"},"prover")),".\nIf you don't compile circuits on your own, please don't change the ",(0,r.kt)("inlineCode",{parentName:"p"},"_settings")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"prover"),".",(0,r.kt)("br",null),"\nSee the current prover and settings of deployed contracts: ",(0,r.kt)("a",{parentName:"p",href:"https://developer.unirep.io/docs/testnet-deployment"},"\ud83e\udd1d Testnet Deployment"),".")),(0,r.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L189"},"packages/contracts/deploy/deploy.ts:189")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"deployverifier"},"deployVerifier"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"deployVerifier"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"deployer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"circuitName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"prover?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Contract"),">"),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deployer")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Signer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A signer or an ethereum wallet")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"circuitName")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the circuit, which can be chosen from ",(0,r.kt)("inlineCode",{parentName:"td"},"Circuit"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"prover?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Prover")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prover which provides ",(0,r.kt)("inlineCode",{parentName:"td"},"vkey")," of the circuit")))),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Contract"),">"),(0,r.kt)("p",null,"The deployed verifier smart contract"),(0,r.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L66"},"packages/contracts/deploy/deploy.ts:66")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"deployverifierhelper"},"deployVerifierHelper"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"deployVerifierHelper"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"unirepAddress"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"deployer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"circuitName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"prover?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Contract"),">"),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unirepAddress")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deployer")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Signer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A signer or an ethereum wallet")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"circuitName")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Circuit")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the circuit, which can be chosen from ",(0,r.kt)("inlineCode",{parentName:"td"},"Circuit"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"prover?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Prover")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prover which provides ",(0,r.kt)("inlineCode",{parentName:"td"},"vkey")," of the circuit")))),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Contract"),">"),(0,r.kt)("p",null,"The deployed verifier helper contracts"),(0,r.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L137"},"packages/contracts/deploy/deploy.ts:137")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"deployverifierhelpers"},"deployVerifierHelpers"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"deployVerifierHelpers"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"unirepAddress"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"deployer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"prover?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"[circuit: string]"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"ethers.Contract"),";  }",">"),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unirepAddress")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deployer")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Signer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A signer or an ethereum wallet")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"prover?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Prover")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prover which provides ",(0,r.kt)("inlineCode",{parentName:"td"},"vkey")," of the circuit")))),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"[circuit: string]"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"ethers.Contract"),";  }",">"),(0,r.kt)("p",null,"All deployed verifier helper contracts"),(0,r.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L112"},"packages/contracts/deploy/deploy.ts:112")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"deployverifiers"},"deployVerifiers"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"deployVerifiers"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"deployer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"prover?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"[circuit: string]"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),";  }",">"),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"deployer")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Signer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A signer or an ethereum wallet")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"prover?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Prover")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prover which provides ",(0,r.kt)("inlineCode",{parentName:"td"},"vkey")," of the circuit")))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"[circuit: string]"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),";  }",">"),(0,r.kt)("p",null,"All deployed verifier smart contracts"),(0,r.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L95"},"packages/contracts/deploy/deploy.ts:95")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"genverifier"},"genVerifier"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"genVerifier"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"contractName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"vk"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"Generate verifier smart contract with a given verification key."),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"contractName")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The name of the verifier contract")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"vk")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The verification key which is generated by snark protocol")))),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"The string of the verifier content"),(0,r.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/utils.ts#L66"},"packages/contracts/deploy/utils.ts:66")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"linklibrary"},"linkLibrary"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"linkLibrary"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"bytecode"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"libraries?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"Link the library bytecode to a compiled smart contract bytecode."),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"bytecode")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The compiled smart contract bytecode")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"libraries")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The name and the address of the library")))),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"The combined bytecode"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"linkLibrary(\n  incArtifacts.bytecode,\n  {\n    ['poseidon-solidity/PoseidonT3.sol:PoseidonT3']: PoseidonT3.address,\n  }\n)\n")),(0,r.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/utils.ts#L22"},"packages/contracts/deploy/utils.ts:22")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"retryasneeded"},"retryAsNeeded"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"retryAsNeeded"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"fn"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"maxRetry?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,r.kt)("p",null,"Try a function several times."),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"fn")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The function will be executed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"maxRetry")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"10")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum number of trying functions.")))),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,r.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/deploy.ts#L45"},"packages/contracts/deploy/deploy.ts:45")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"trypath"},"tryPath"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"tryPath"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"file"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("p",null,"Try to find an artifact file in the paths."),(0,r.kt)("h4",{id:"parameters-10"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"file")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The name of the file that will be searched.")))),(0,r.kt)("h4",{id:"returns-10"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("p",null,"The found artifacts"),(0,r.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/60105749/packages/contracts/deploy/utils.ts#L159"},"packages/contracts/deploy/utils.ts:159")))}s.isMDXComponent=!0}}]);