"use strict";(self.webpackChunk_unirep_docs=self.webpackChunk_unirep_docs||[]).push([[5200],{30876:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(2784);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=l(r),f=i,d=c["".concat(s,".").concat(f)]||c[f]||h[f]||o;return r?n.createElement(d,a(a({ref:t},u),{},{components:r})):n.createElement(d,a({ref:t},u))}));function d(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=f;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[c]="string"==typeof e?e:i,a[1]=p;for(var l=2;l<o;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},68054:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>p,toc:()=>l});var n=r(7896),i=(r(2784),r(30876));const o={description:"The zero-knowledge circuit of user sign up proof in UniRep"},a="User Sign Up Proof",p={unversionedId:"protocol/circuits/user-sign-up-proof",id:"version-1.0.1/protocol/circuits/user-sign-up-proof",title:"User Sign Up Proof",description:"The zero-knowledge circuit of user sign up proof in UniRep",source:"@site/versioned_docs/version-1.0.1/protocol/circuits/user-sign-up-proof.md",sourceDirName:"protocol/circuits",slug:"/protocol/circuits/user-sign-up-proof",permalink:"/docs/1.0.1/protocol/circuits/user-sign-up-proof",draft:!1,editUrl:"https://github.com/Unirep/Unirep/tree/main/packages/docs/versioned_docs/version-1.0.1/protocol/circuits/user-sign-up-proof.md",tags:[],version:"1.0.1",frontMatter:{description:"The zero-knowledge circuit of user sign up proof in UniRep"},sidebar:"apiSidebar",previous:{title:"Reputation Proof",permalink:"/docs/1.0.1/protocol/circuits/reputation-proof"},next:{title:"User State Transition Proof",permalink:"/docs/1.0.1/protocol/circuits/user-state-transition-proof"}},s={},l=[{value:"Public inputs",id:"public-inputs",level:2},{value:"Public outputs",id:"public-outputs",level:2},{value:"Private inputs",id:"private-inputs",level:2},{value:"Contraints",id:"contraints",level:2},{value:"1. Check if user exists in the Global State Tree and verify epoch key",id:"1-check-if-user-exists-in-the-global-state-tree-and-verify-epoch-key",level:3},{value:"2. Check if the reputation given by the attester is in the user state tree",id:"2-check-if-the-reputation-given-by-the-attester-is-in-the-user-state-tree",level:3}],u={toc:l},c="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"user-sign-up-proof"},"User Sign Up Proof"),(0,i.kt)("p",null,"The user sign up proof is used to indicate if the user has a valid membership from an attester. Attesters can send a ",(0,i.kt)("a",{parentName:"p",href:"/docs/1.0.1/protocol/glossary/reputation"},"reputation")," with a ",(0,i.kt)("inlineCode",{parentName:"p"},"signUp")," flag to authenticate the user. Once the attester has signed the user up, the sign up flag will not be changed (in the current version)."),(0,i.kt)("p",null,"In the current version, the user sign up proof is used to give users the reputation airdrop. Once the users are authenticated by an attester, the user can get the airdrop from the attester. Then the users also need epoch keys to receive reputation from the attester."),(0,i.kt)("p",null,"The idea of the user sign up proof (or called the airdrop proof) is to prevent the same user from obtaining airdrop twice in the same epoch. As a result, the airdrop proof output an epoch key a fix the nonce to ",(0,i.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,i.kt)("p",null,"Therefore, the proof checks that"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"If the user has a sign-up flag from a given attester."),(0,i.kt)("li",{parentName:"ol"},"The user has ",(0,i.kt)("a",{parentName:"li",href:"../glossary/users-and-attesters#user"},"registered")," in UniRep and has performed the ",(0,i.kt)("a",{parentName:"li",href:"/docs/1.0.1/protocol/glossary/user-state-transition"},"user state transition")," in the latest epoch. In other words, the user has a leaf in the global state tree."),(0,i.kt)("li",{parentName:"ol"},"If the sign up proof epoch matches the current epoch."),(0,i.kt)("li",{parentName:"ol"},"If the output epoch key is computed with the ",(0,i.kt)("inlineCode",{parentName:"li"},"nonce = 0"))),(0,i.kt)("h2",{id:"public-inputs"},"Public inputs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"epoch")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"attester_id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sign_up"))),(0,i.kt)("h2",{id:"public-outputs"},"Public outputs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"epoch_key")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GST_root"))),(0,i.kt)("h2",{id:"private-inputs"},"Private inputs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"identity_nullifier")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"identity_trapdoor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_tree_root")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GST_path_index")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GST_path_elements")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pos_rep")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"neg_rep")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"graffiti")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sign_up")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"UST_path_elements"))),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"NOTE:")," No epoch key nonce is given.")),(0,i.kt)("h2",{id:"contraints"},"Contraints"),(0,i.kt)("h3",{id:"1-check-if-user-exists-in-the-global-state-tree-and-verify-epoch-key"},"1. Check if user exists in the Global State Tree and verify epoch key"),(0,i.kt)("p",null,"Check the constrains in epoch key proof."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"See: ",(0,i.kt)("a",{parentName:"p",href:"/docs/1.0.1/protocol/circuits/epoch-key-proof"},"Epoch Key Proof circuit"))),(0,i.kt)("h3",{id:"2-check-if-the-reputation-given-by-the-attester-is-in-the-user-state-tree"},"2. Check if the reputation given by the attester is in the user state tree"),(0,i.kt)("p",null,"Check if ",(0,i.kt)("inlineCode",{parentName:"p"},"hash(pos_rep, neg_rep, graffiti, sign_up)")," is one of the leaves in the user state tree of root ",(0,i.kt)("inlineCode",{parentName:"p"},"user_tree_root"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"See the whole circuit in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Unirep/Unirep/blob/v1.0.1/packages/circuits/circuits/proveUserSignUp.circom"},"circuits/proveUserSignUp.circom"))))}h.isMDXComponent=!0}}]);